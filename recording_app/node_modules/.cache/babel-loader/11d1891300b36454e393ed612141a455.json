{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/taylo/Documents/Sideprojects/hackathon2020/recording_app/src/pages/index/index.jsx\";\nimport React from 'react';\nimport * as Cookies from 'js-cookie';\nimport '../../assets/fonts/css/icons.css';\nimport Validator from '../../utils/Validator';\nimport { RESOLUTION_ARR } from '../../utils/Settings';\nimport './index.css';\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChannel = (val, state) => {\n      this.setState({\n        channel: val,\n        joinBtn: state\n      });\n    };\n\n    this.handleJoin = () => {\n      if (!this.state.joinBtn) {\n        return;\n      }\n\n      console.log(this.state);\n      Cookies.set('channel', this.state.channel);\n      Cookies.set('baseMode', this.state.baseMode);\n      Cookies.set('transcode', this.state.transcode);\n      Cookies.set('attendeeMode', this.state.attendeeMode);\n      Cookies.set('videoProfile', this.state.videoProfile);\n      window.location.hash = \"meeting\";\n    };\n\n    this.state = {\n      joinBtn: false,\n      channel: '',\n      baseMode: 'avc',\n      transcode: 'interop',\n      attendeeMode: 'video',\n      videoProfile: '480p_4'\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('keypress', e => {\n      e.keyCode === 13 && this.handleJoin();\n    });\n  }\n  /**\n   * \n   * @param {String} val 0-9 a-z A-Z _ only \n   * @param {Boolean} state \n   */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"wrapper index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ag-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ag-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"login-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/ag-logo.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"login-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"AgoraWeb v2.1\"), React.createElement(\"p\", {\n      className: \"login-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Powering Real-Time Communications\")), React.createElement(\"div\", {\n      className: \"login-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column is-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(InputChannel, {\n      onChange: this.handleChannel,\n      placeholder: \"Input a room name here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column is-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(BaseOptions, {\n      onChange: val => this.setState({\n        baseMode: val\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"column is-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(AdvancedOptions, {\n      onRadioChange: val => this.setState({\n        transcode: val\n      }),\n      onSelectChange: val => this.setState({\n        videoProfile: val\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"attendeeMode\",\n      className: \"control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: e => this.setState({\n        attendeeMode: e.target.value\n      }),\n      value: \"video\",\n      type: \"radio\",\n      name: \"attendee\",\n      defaultChecked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-img video\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Video Call : join with video call\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: e => this.setState({\n        attendeeMode: e.target.value\n      }),\n      value: \"audio-only\",\n      type: \"radio\",\n      name: \"attendee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-img audio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Audio-only : join with audio call\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: e => this.setState({\n        attendeeMode: e.target.value\n      }),\n      value: \"audience\",\n      type: \"radio\",\n      name: \"attendee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-img audience\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"radio-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Audience : join as an audience\")))))), React.createElement(\"div\", {\n      className: \"login-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      id: \"joinBtn\",\n      onClick: this.handleJoin,\n      disabled: !this.state.joinBtn,\n      className: \"ag-rounded button is-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Join\")))), React.createElement(\"div\", {\n      className: \"ag-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"ag-href\",\n      href: \"https://www.agora.io\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Powered By Agora\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Interested in Agora video call SDK? Contact \"), React.createElement(\"span\", {\n      className: \"ag-contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"sales@agora.io\"))));\n  }\n\n}\n\nclass InputChannel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = val => {\n      this.setState({\n        state: '',\n        errorMsg: ''\n      });\n\n      if (Validator.isNonEmpty(val.trim())) {\n        this.setState({\n          errorMsg: 'Cannot be empty!',\n          state: 'is-danger'\n        });\n        return false;\n      } else if (Validator.minLength(val.trim(), 1)) {\n        this.setState({\n          errorMsg: 'No shorter than 1!',\n          state: 'is-danger'\n        });\n        return false;\n      } else if (Validator.maxLength(val.trim(), 16)) {\n        this.setState({\n          errorMsg: 'No longer than 16!',\n          state: 'is-danger'\n        });\n        return false;\n      } else if (Validator.validChar(val.trim())) {\n        this.setState({\n          state: 'is-danger',\n          errorMsg: 'Only capital or lower-case letter, number and \"_\" are permitted!'\n        });\n        return false;\n      } else {\n        this.setState({\n          state: 'is-success'\n        });\n        return true;\n      }\n    };\n\n    this.handleChange = e => {\n      let state = this.validate(e.target.value);\n      this.props.onChange(e.target.value, state);\n    };\n\n    this.state = {\n      errorMsg: '',\n      state: ''\n    };\n  }\n\n  render() {\n    let validateIcon = '';\n\n    switch (this.state.state) {\n      default:\n      case '':\n        validateIcon = '';\n        break;\n\n      case 'is-success':\n        validateIcon = React.createElement(\"i\", {\n          className: \"ag-icon ag-icon-valid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        });\n        break;\n\n      case 'is-danger':\n        validateIcon = React.createElement(\"i\", {\n          className: \"ag-icon ag-icon-invalid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        });\n        break;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"channel-wrapper control has-icons-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onInput: this.handleChange,\n      id: \"channel\",\n      className: 'ag-rounded input ' + this.state.state,\n      type: \"text\",\n      placeholder: this.props.placeholder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"icon is-small is-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../../assets/images/ag-login.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"validate-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, validateIcon), React.createElement(\"div\", {\n      className: \"validate-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, this.state.errorMsg));\n  }\n\n}\n\nclass BaseOptions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSelect = item => {\n      let msg = item.label;\n      let val = item.value;\n      this.setState({\n        'message': msg,\n        'active': false\n      });\n      this.props.onChange(val);\n    };\n\n    this._options = [{\n      label: 'Agora Video Call',\n      value: 'avc',\n      content: 'One to one and group calls'\n    }, {\n      label: 'Agora Live',\n      value: 'al',\n      content: 'Enabling real-time interactions between the host and the audience'\n    }];\n    this.state = {\n      active: false,\n      message: 'Agora Video Call'\n    };\n  }\n\n  render() {\n    const options = this._options.map((item, index) => {\n      return React.createElement(\"div\", {\n        className: \"dropdown-item\",\n        key: index,\n        onClick: e => this.handleSelect(item, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, item.label), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, item.content));\n    });\n\n    return React.createElement(\"div\", {\n      className: this.state.active ? 'dropdown is-active' : 'dropdown',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown-trigger\",\n      onClick: () => this.setState({\n        'active': !this.state.active\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      id: \"baseMode\",\n      className: \"ag-rounded button\",\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": \"baseModeOptions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"baseOptionLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, this.state.message), React.createElement(\"span\", {\n      className: \"icon is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ag-icon ag-icon-arrow-down\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      id: \"baseModeOptions\",\n      role: \"menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, options)));\n  }\n\n}\n\nclass AdvancedOptions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRadio = e => {\n      this.props.onRadioChange(e.target.value);\n    };\n\n    this.handleSelect = e => {\n      this.props.onSelectChange(e.target.value);\n    };\n\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    const options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n      return React.createElement(\"option\", {\n        key: index,\n        value: item[0].split(\",\")[0],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, item[1][0], \"x \", item[1][1], \", \", item[1][2], \"fps, \", item[1][3], \"kbps\");\n    });\n    return React.createElement(\"div\", {\n      className: this.state.active ? 'dropdown is-active' : 'dropdown',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown-trigger\",\n      onClick: () => this.setState({\n        'active': !this.state.active\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      id: \"advancedProfile\",\n      className: \"ag-rounded button\",\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": \"advancedOptions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"Advanced\"))), React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      id: \"advancedOptions\",\n      role: \"menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: \"\",\n      type: \"radio\",\n      name: \"transcode\",\n      onChange: this.handleRadio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"VP8-only\")), React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: \"interop\",\n      type: \"radio\",\n      defaultChecked: true,\n      onChange: this.handleRadio,\n      name: \"transcode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"VP8 & H264\")), React.createElement(\"label\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: \"h264_interop\",\n      type: \"radio\",\n      onChange: this.handleRadio,\n      name: \"transcode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"H264-only\")))), React.createElement(\"div\", {\n      className: \"dropdown-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"select is-rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.handleSelect,\n      defaultValue: \"480p_4\",\n      id: \"videoProfile\",\n      className: \"ag-rounded is-clipped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, options))))));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/mnt/c/Users/taylo/Documents/Sideprojects/hackathon2020/recording_app/src/pages/index/index.jsx"],"names":["React","Cookies","Validator","RESOLUTION_ARR","Index","Component","constructor","props","handleChannel","val","state","setState","channel","joinBtn","handleJoin","console","log","set","baseMode","transcode","attendeeMode","videoProfile","window","location","hash","componentDidMount","addEventListener","e","keyCode","render","require","target","value","InputChannel","validate","errorMsg","isNonEmpty","trim","minLength","maxLength","validChar","handleChange","onChange","validateIcon","placeholder","BaseOptions","handleSelect","item","msg","label","_options","content","active","message","options","map","index","AdvancedOptions","handleRadio","onRadioChange","onSelectChange","Object","entries","split"],"mappings":"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","sourcesContent":["import React from 'react'\nimport * as Cookies from 'js-cookie'\n\nimport '../../assets/fonts/css/icons.css'\nimport Validator from '../../utils/Validator'\nimport { RESOLUTION_ARR } from '../../utils/Settings'\nimport './index.css'\n\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      joinBtn: false,\n      channel: '',\n      baseMode: 'avc',\n      transcode: 'interop',\n      attendeeMode: 'video',\n      videoProfile: '480p_4',\n\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('keypress', (e) => {\n      e.keyCode === 13 && this.handleJoin()\n    })\n  }\n\n  /**\n   * \n   * @param {String} val 0-9 a-z A-Z _ only \n   * @param {Boolean} state \n   */\n  handleChannel = (val, state) => {\n    this.setState({\n      channel: val,\n      joinBtn: state\n    })\n  }\n\n  handleJoin = () => {\n    if (!this.state.joinBtn) {\n      return\n    }\n    console.log(this.state)\n    Cookies.set('channel', this.state.channel)\n    Cookies.set('baseMode', this.state.baseMode)\n    Cookies.set('transcode', this.state.transcode)\n    Cookies.set('attendeeMode', this.state.attendeeMode)\n    Cookies.set('videoProfile', this.state.videoProfile)\n    window.location.hash = \"meeting\"\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper index\">\n        <div className=\"ag-header\"></div>\n        <div className=\"ag-main\">\n          <section className=\"login-wrapper\">\n            <div className=\"login-header\">\n              <img src={require('../../assets/images/ag-logo.png')} alt=\"\" />\n              <p className=\"login-title\">AgoraWeb v2.1</p>\n              <p className=\"login-subtitle\">Powering Real-Time Communications</p>\n            </div>\n            <div className=\"login-body\">\n              <div className=\"columns\">\n                <div className=\"column is-12\">\n                  <InputChannel onChange={this.handleChannel} placeholder=\"Input a room name here\"></InputChannel>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column is-7\">\n                  <BaseOptions\n                    onChange={val => this.setState({ baseMode: val })}>\n                  </BaseOptions>\n                </div>\n                <div className=\"column is-5\">\n                  <AdvancedOptions\n                    onRadioChange={val => this.setState({ transcode: val })}\n                    onSelectChange={val => this.setState({ videoProfile: val })}>\n                  </AdvancedOptions>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column\">\n                  <div id=\"attendeeMode\" className=\"control\">\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"video\" type=\"radio\"\n                        name=\"attendee\" defaultChecked />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img video\">\n                      </span>\n                      <span className=\"radio-msg\">Video Call : join with video call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audio-only\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audio\">\n                      </span>\n                      <span className=\"radio-msg\">Audio-only : join with audio call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audience\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audience\">\n                      </span>\n                      <span className=\"radio-msg\">Audience : join as an audience</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"login-footer\">\n              <a id=\"joinBtn\"\n                onClick={this.handleJoin}\n                disabled={!this.state.joinBtn}\n                className=\"ag-rounded button is-info\">Join\n                  </a>\n            </div>\n          </section>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <div>\n            <span>Interested in Agora video call SDK? Contact </span>\n            <span className=\"ag-contact\">sales@agora.io</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass InputChannel extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      errorMsg: '',\n      state: ''\n    }\n  }\n\n  validate = (val) => {\n    this.setState({\n      state: '',\n      errorMsg: ''\n    })\n    if (Validator.isNonEmpty(val.trim())) {\n      this.setState({\n        errorMsg: 'Cannot be empty!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.minLength(val.trim(), 1)) {\n      this.setState({\n        errorMsg: 'No shorter than 1!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.maxLength(val.trim(), 16)) {\n      this.setState({\n        errorMsg: 'No longer than 16!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.validChar(val.trim())) {\n      this.setState({\n        state: 'is-danger',\n        errorMsg: 'Only capital or lower-case letter, number and \"_\" are permitted!'\n      })\n      return false\n    }\n    else {\n      this.setState({\n        state: 'is-success'\n      })\n      return true\n    }\n  }\n\n  handleChange = (e) => {\n    let state = this.validate(e.target.value)\n    this.props.onChange(e.target.value, state)\n  }\n\n  render() {\n    let validateIcon = ''\n    switch (this.state.state) {\n      default:\n      case '':\n        validateIcon = ''; break;\n      case 'is-success':\n        validateIcon = (<i className=\"ag-icon ag-icon-valid\"></i>); break;\n      case 'is-danger':\n        validateIcon = (<i className=\"ag-icon ag-icon-invalid\"></i>); break;\n    }\n\n    return (\n      <div className=\"channel-wrapper control has-icons-left\">\n        <input onInput={this.handleChange}\n          id=\"channel\"\n          className={'ag-rounded input ' + this.state.state}\n          type=\"text\"\n          placeholder={this.props.placeholder} />\n        <span className=\"icon is-small is-left\">\n          <img src={require('../../assets/images/ag-login.png')} alt=\"\" />\n        </span>\n        <span className=\"validate-icon\">\n          {validateIcon}\n        </span>\n        <div className=\"validate-msg\">\n          {this.state.errorMsg}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BaseOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this._options = [\n      {\n        label: 'Agora Video Call',\n        value: 'avc',\n        content: 'One to one and group calls'\n      },\n      {\n        label: 'Agora Live',\n        value: 'al',\n        content: 'Enabling real-time interactions between the host and the audience'\n      }\n    ]\n    this.state = {\n      active: false,\n      message: 'Agora Video Call',\n\n    }\n  }\n\n  handleSelect = (item) => {\n    let msg = item.label\n    let val = item.value\n    this.setState({\n      'message': msg,\n      'active': false\n    })\n    this.props.onChange(val)\n  }\n\n  render() {\n    const options = this._options.map((item, index) => {\n      return (\n        <div className=\"dropdown-item\"\n          key={index}\n          onClick={(e) => this.handleSelect(item, e)}>\n          <p>{item.label}</p>\n          <hr />\n          <p>{item.content}</p>\n        </div>\n      )\n    })\n\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"baseMode\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"baseModeOptions\">\n            <span id=\"baseOptionLabel\">{this.state.message}</span>\n            <span className=\"icon is-small\">\n              <i className=\"ag-icon ag-icon-arrow-down\" aria-hidden=\"true\"></i>\n            </span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"baseModeOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            {options}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AdvancedOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: false,\n    }\n  }\n\n  handleRadio = (e) => {\n    this.props.onRadioChange(e.target.value)\n  }\n\n  handleSelect = (e) => {\n    this.props.onSelectChange(e.target.value)\n  }\n\n  render() {\n    const options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n      return (\n        <option key={index} value={item[0].split(\",\")[0]}>{item[1][0]}x {item[1][1]}, {item[1][2]}fps, {item[1][3]}kbps</option>\n      )\n    })\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"advancedProfile\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"advancedOptions\">\n            <span>Advanced</span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"advancedOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-item\">\n              <div className=\"control\">\n                <label className=\"radio\">\n                  <input value=\"\" type=\"radio\" name=\"transcode\" onChange={this.handleRadio} />\n                  <span>VP8-only</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"interop\" type=\"radio\" defaultChecked onChange={this.handleRadio} name=\"transcode\" />\n                  <span>VP8 &amp; H264</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"h264_interop\" type=\"radio\" onChange={this.handleRadio} name=\"transcode\" />\n                  <span>H264-only</span>\n                </label>\n              </div>\n            </div>\n            <div className=\"dropdown-item\">\n              <div className=\"select is-rounded\">\n                <select onChange={this.handleSelect} defaultValue=\"480p_4\" id=\"videoProfile\" className=\"ag-rounded is-clipped\">\n                  {options}\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Index"]},"metadata":{},"sourceType":"module"}